var CORNER,CENTER,CLOSE,SPACE,LEFT,RIGHT,UP,DOWN,SQUARE,ROUND,PROJECT,MITER,BEVEL,DEGREES,RADIANS,PI,TAU,RGBA,HSL,HEX,LEFT_BUTTON,RIGHT_BUTTON,ESCAPE,TAB,SHIFT,CONTROL,ALT,ENTER,BACKSPACE,fps,skiJSData,canvas,ctx,mousePressed,mouseReleased,mouseScrolled,mouseClicked,mouseOver,mouseOut,mouseMoved,mouseIsPressed,mouseButton,mouseX,mouseY,pmouseX,pmouseY,keyPressed,keyReleased,keyTyped,key,keyIsPressed,keyCode,width,height;function size(e,t,n){width=canvas.width=e,height=canvas.height=t,n&&(canvas.style.width=`${e}px`,canvas.style.height=`${t}px`)}function set(...e){switch(e.length){case 0:return ctx=(canvas=new OffscreenCanvas(width,height)).getContext("2d"),[canvas,ctx];case 1:ctx=(canvas=e[0]).getContext("2d"),width=canvas.width,height=canvas.height;break;case 2:return ctx=(canvas=new OffscreenCanvas(e[0],e[1])).getContext("2d"),width=e[0],height=e[1],[canvas,ctx]}}function background(...e){let t=[ctx.strokeStyle,ctx.fillStyle],n=ctx.getTransform();ctx.setTransform(1,0,0,1,0,0),ctx.strokeStyle="rgba(0, 0, 0, 0)",ctx.fillStyle=color(...e),ctx.fillRect(0,0,canvas.width,canvas.height),ctx.strokeStyle=t[0],ctx.fillStyle=t[1],ctx.setTransform(n)}function fill(...e){ctx.fillStyle=color(...e)}function stroke(...e){ctx.strokeStyle=color(...e)}function image(e,t,n,a=e.width,o=e.height){[t,n]=skiJSData.pos("image",t,n,a,o),e instanceof ImageData?ctx.putImageData(e,t,n,a,o):ctx.drawImage(e,t,n,a,o)}function clear(){let e=ctx.getTransform();ctx.setTransform(1,0,0,1,0,0),ctx.clearRect(0,0,width,height),ctx.setTransform(e)}function noStroke(){ctx.strokeStyle=color(0,0)}function noFill(){ctx.fillStyle=color(0,0)}function rect(e,t,n,a,...o){[e,t]=skiJSData.pos("rect",e,t,n,a),o.length>0?(ctx.beginPath(),ctx.roundRect(e,t,n,a,...o),ctx.closePath(),ctx.stroke(),ctx.fill()):(ctx.fillRect(e,t,n,a),ctx.strokeRect(e,t,n,a))}function wrapText(e,t){e=e.split(/[ ]/);let n=0,a="",o="";for(;n<e.length;){let r=e[n],s=r.indexOf("\n");s>=0?(a+=r.slice(0,s+1),o+=a,a=r.slice(s+1,r.length)+" "):textWidth(a+=r+" ")>t&&(o+=a+"\n",a=""),n++}return a.length>0&&(o+="\n"+a),o}function text(e,t,n,a,o){e=e?.toString(),a&&(e=wrapText(e,a)),e.includes("\n")?e.split("\n").map((a,o)=>{ctx.fillText(a,t,n+(o-(e.split("\n").length-1)/2)*(skiJSData.height+skiJSData.leading)),ctx.strokeText(a,t,n+(o-(e.split("\n").length-1)/2)*(skiJSData.height+skiJSData.leading))}):(ctx.fillText(e,t,n),ctx.strokeText(e,t,n))}function rectMode(e){skiJSData.rect=e}function ellipseMode(e){skiJSData.ellipse=e}function arcMode(e){skiJSData.arc=e}function imageMode(e){skiJSData.image=e}function textAlign(e,t){ctx.textAlign=e===CENTER?"center":"start",ctx.textBaseline=t===CENTER?"middle":"hanging"}function createFont(e){return e}function textSize(e){skiJSData.height=e,ctx.font=skiJSData.fontString(skiJSData.font,e)}function textFont(e,t=skiJSData.height){skiJSData.height!==t&&(skiJSData.height=t),skiJSData.flags=[],/bold/i.test(e)&&(skiJSData.flags.push("bold"),e=e.replace("bold","")),/italic/i.test(e)&&(skiJSData.flags.push("italic"),e=e.replace("italic","")),e=e.trim(),skiJSData.font=e,ctx.font=skiJSData.fontString(e,t)}function textLeading(e){skiJSData.leading=e}function textWidth(e){return e.split("\n").reduce((e,t)=>max(e,ctx.measureText(t).width),0)}function textAscent(){return ctx.measureText("a").fontBoundingBoxAscent}function textDescent(){ctx.measureText("a").fontBoundingBoxDescent}function strokeCap(e){ctx.lineCap=e}function strokeJoin(e){ctx.lineJoin=e}function strokeWeight(e){ctx.lineWidth=e}function pushStyle(){ctx.save()}function popStyle(){ctx.restore()}function pushMatrix(){let{matrices:e,matrixToArray:t}=skiJSData;e.push(t(ctx.getTransform()))}function popMatrix(){let e=new Float32Array(skiJSData.matrices.pop()),t=DOMMatrix.fromFloat32Array(e);ctx.setTransform(t)}function translate(e,t){ctx.transform(1,0,0,1,e,t)}function rotate(e){skiJSData.angle===DEGREES&&(e=degrees(e));let t=Math.cos,n=Math.sin;ctx.transform(t(e),n(e),-n(e),t(e),0,0)}function scale(e,t){ctx.transform(e,0,0,t||e,0,0)}function beginShape(){skiJSData.path=[]}function vertex(e,t){skiJSData.path.push([e,t])}function curveVertex(e,t,n,a){skiJSData.path.push([e,t,n,a])}function bezierVertex(e,t,n,a,o,r){skiJSData.path.push([e,t,n,a,o,r])}function endShape(e){let t=skiJSData.path;t.length<2||2!==t[0].length||(ctx.beginPath(),t.forEach((e,t)=>{if(0===t)ctx.moveTo(...e);else if(2===e.length)ctx.lineTo(...e);else if(4===e.length)ctx.quadraticCurveTo(...e);else{if(6!==e.length)return;ctx.bezierCurveTo(...e)}}),e&&ctx.closePath(),ctx.fill(),ctx.stroke())}function curve(e,t,n,a,o,r){"number"==typeof r&&(beginShape(),vertex(e,t),curveVertex(n,a,o,r),endShape())}function bezier(e,t,n,a,o,r,s,c){"number"==typeof c&&(beginShape(),vertex(e,t),bezierVertex(n,a,o,r,s,c),endShape())}function arc(e,t,n,a,o,r,s=!1){[e,t]=skiJSData.pos("arc",e,t,width,height),pushMatrix(),translate(e,t),n!==a&&(n>a?scale(max(n,a)/min(n,a),1):scale(1,max(n,a)/min(n,a))),ctx.beginPath(),ctx.fillStyle!==color(0,0)&&ctx.moveTo(0,0),ctx.arc(0,0,min(n,a)/2,degrees(o),degrees(r)),s&&ctx.closePath(),popMatrix(),ctx.fill(),ctx.stroke()}function ellipse(e,t,n,a){ctx.beginPath(),ctx.ellipse(e,t,n/2,a/2,0,0,TAU),ctx.fill(),ctx.stroke()}function quad(e,t,n,a,o,r,s,c){beginShape(),vertex(e,t),vertex(n,a),vertex(o,r),vertex(s,c),endShape(CLOSE)}function triangle(e,t,n,a,o,r){beginShape(),vertex(e,t),vertex(n,a),vertex(o,r),endShape(CLOSE)}function point(e,t){if(ctx.strokeStyle!==color(0,0)){let n=[ctx.strokeStyle,ctx.fillStyle];noStroke(),ctx.fillStyle=n[0],ellipse(e,t,ctx.lineWidth,ctx.lineWidth),ctx.strokeStyle=n[0],ctx.fillStyle=n[1]}}function line(e,t,n,a){ctx.beginPath(),ctx.moveTo(e,t),ctx.lineTo(n,a),ctx.closePath(),ctx.stroke()}function get(...e){let[t,n,a,o,r]=e;switch(e.length){case 0:return get(0,0,width,height);case 2:return color((data=ctx.getImageData(t,n,1,1).data)[0],data[1],data[2],data[3]);case 3:{let s=new OffscreenCanvas(a.width,a.height),c=s.getContext("2d");return a instanceof HTMLImageElement?(c.drawImage(a,0,0),data=c.getImageData(t,n,1,1)):data=a.getContext("2d").getImageData(t,n,1,1).data,color(data[0],data[1],data[2],data[3])}case 4:let u=new OffscreenCanvas(a,o),l=u.getContext("2d");return l.putImageData(ctx.getImageData(t,n,a,o),0,0),u;case 5:{let f=new OffscreenCanvas(r.width,r.height),g=f.getContext("2d");return g.drawImage(r,-t,-n),f}}}function mask(){ctx.globalCompositeOperation="source-atop"}function debug(...e){console.debug(...e)}function isEqual(...e){console.assert(...e)}function day(){return(new Date).getDate()}function month(){return(new Date).getMonth()}function year(){return(new Date).getYear()}function hour(){return(new Date).getHours()}function minute(){return(new Date).getMinutes()}function seconds(){return(new Date).getSeconds()}function enableContextMenu(){canvas.oncontextmenu=!0}function cursor(e){document.body.style.cursor=e}function smooth(){ctx.imageSmoothingEnabled=!0,ctx.imageSmoothingQuality="high"}function noSmooth(){ctx.imageSmoothingEnabled=!1,ctx.imageSmoothingQuality="low"}function noLoop(){skiJSData.draw=draw,draw=0}function loop(){draw=skiJSData.draw||draw}function max(e,t){return e>t?e:t}function min(e,t){return e<t?e:t}function mag(e,t){return Math.sqrt(e**2+t**2)}function dist(e,t,n,a){return mag(x-X,y-Y)}function manhattanDistance(e,t,n,a){return abs(e-n)+abs(t-a)}function chebyshevDistance(e,t,n,a){return max(abs(e-n),abs(t-a))}function exp(e){return Math.E**e}function norm(e,t,n){return(e-t)/(n-t)}function map(e,t,n,a,o){return a+(o-a)*norm(e,t,n)}function lerp(e,t,n){return(t-e)*n+e}function random(e,t){return t?Math.random()*(t-e)+e:e?Math.random()*e:Math.random()}function constrain(e,t,n){return min(max(e,t),n)}function log(e){return Math.log(e)}function sqrt(e){return Math.sqrt(e)}function sq(e){return e**2}function pow(e,t){return e**t}function abs(e){return e<0?-e:e}function trunc(e){return 0|e}function floor(e){return e<0?(0|e)-1:0|e}function ceil(e){return floor(e)+1}function round(e){return e-floor(e)<.5?floor(e):ceil(e)}function sin(e){return skiJSData.angle===DEGREES&&(e=degrees(e)),Math.sin(e)}function cos(e){return skiJSData.angle===DEGREES&&(e=degrees(e)),Math.cos(e)}function tan(e){return skiJSData.angle===DEGREES&&(e=degrees(e)),Math.tan(e)}function acos(e){return skiJSData.angle===DEGREES&&(e=degrees(e)),Math.acos(e)}function asin(e){return skiJSData.angle===DEGREES&&(e=degrees(e)),Math.asin(e)}function atan(e){return e=Math.atan(e),skiJSData.angle===DEGREES&&(e=radians(e)),e}function atan2(e,t){let n=Math.atan2(e,t);return skiJSData.angle===DEGREES&&(n=radians(n)),n}function radians(e){return e*(180/PI)}function degrees(e){return e*(PI/180)}function angleMode(e){skiJSData.angle=e}function bezierPoint(e,t,n,a,o){return(1-o)*(1-o)*(1-o)*e+3*(1-o)*(1-o)*o*t+3*(1-o)*o*o*n+o*o*o*a}function bezierTangent(e,t,n,a,o){return 3*o*o*(-e+3*t-3*n+a)+6*o*(e-2*t+n)+3*(-e+t)}function colorMode(e){return skiJSData.color=e}function color(...e){if("string"==typeof e[0]&&e.length<=1&&/(#|rgb|hsl)/.test(e[0]))return e[0];if(e[0]instanceof Array&&(e=e[0]),"number"==typeof e[1]&&/rgb/.test(e[0])){let t=e[0].match(/[0-9\.]+(?=(,|\)))/g);e=[t[0],t[1],t[2],e[1]]}switch(skiJSData.color){case RGBA:let[n,a,o,r]=e.length>4?Object.assign(e,{length:4}):e;switch(e.length){case 1:return`rgba(${n}, ${n}, ${n}, 1)`;case 2:return`rgba(${n}, ${n}, ${n}, ${a/255})`;case 3:return`rgba(${n}, ${a}, ${o}, 1)`;case 4:return`rgba(${n}, ${a}, ${o}, ${r/255})`}break;case HSL:return`hsl(${e[0]}, ${e[1]}%, ${e[2]}%)`;case HEX:return e[0]}}function lerpColor(e,t,n){if("string"!=typeof e||"string"!=typeof t||skiJSData.color!==RGBA)return;let[a,o,r,s]=e.match(/\d{1,3}/g),[c,u,l,f]=t.match(/\d{1,3}/g);return`rgba(${lerp(+a,+c,n)}, ${lerp(+o,+u,n)}, ${lerp(+r,+l,n)}, ${lerp(+s,+f,n)})`}function getImage(e,t,n){return new Promise((a,o)=>{let r;(r=t?new Image(t,n):new Image).src=e,/khanacademy/.test(e)||(r.crossOrigin="anonymous"),r.onload=()=>a(r),r.onerror=()=>o("invalid or unaccessible image source")})}function loadImage(e,t,n){let a;return(a=t?new Image(t,n):new Image).src=e,/khanacademy/.test(e)||(a.crossOrigin="anonymous"),a}function getFont(...e){return new Promise((t,n)=>{let a=document.createElement("link");a.rel="stylesheet",a.href=`https://fonts.googleapis.com/css?family=${e.join("|").replace(/ /g,"+")}`,document.body.appendChild(a),a.onload=()=>t(a),a.onerror=()=>reject("invalid or unaccessible fonts. not rlly, it's just an error lol. idk what went wrong, but you're router or DNS is blockin' fonts.googleapis.com")})}function loadFont(...e){let t=document.createElement("link");return t.rel="stylesheet",t.href=`https://fonts.googleapis.com/css?family=${e.join("|").replace(/ /g,"+")}`,document.body.appendChild(t),t}function frameRate(e){skiJSData.rate=e}function millis(){return skiJSData.millis}function raf(e){requestAnimationFrame(raf),delta=e-then;let t=1e3/skiJSData.rate;if(delta<t)return;let n=delta%t;then=e-n,delta-=n,draw_standin(e),frameCount+=1,skiJSData.millis=performance.now()-skiJSData.start,fps=1e3/delta}BACKSPACE=8,TAB=9,ENTER=13,SHIFT=16,CONTROL=17,ALT=18,ESCAPE=27,SPACE=32,LEFT=37,RIGHT=39,UP=38,DOWN=40,CORNER=0,CENTER=1,CLOSE=!0,SQUARE=atob("YnV0dA=="),ROUND="round",PROJECT="square",MITER="iter",BEVEL="bevel",DEGREES="deg",RADIANS="rad",TAU=2*(PI=Math.PI),RGBA="rgba",HSL="hsl",HEX="hex",LEFT_BUTTON=0,RIGHT_BUTTON=2,ctx=(canvas=new OffscreenCanvas(window.innerWidth,window.innerHeight)).getContext("2d"),mouseReleased=()=>{},mouseScrolled=()=>{},mouseClicked=()=>{},mouseOut=()=>{},mouseOver=()=>{},mouseMoved=()=>{},mouseIsPressed=!1,mouseButton=LEFT_BUTTON,mouseY=0,pmouseX=mouseX=0,pmouseY=mouseY,canvas.onmousedown=e=>{mousePressed(e),mouseIsPressed=!0,mouseButton=e.button},canvas.onmousemove=e=>{let t=canvas.getBoundingClientRect();pmouseX=mouseX,pmouseY=mouseY,mouseX=constrain(e.pageX-t.x,0,width),mouseY=constrain(e.pageY-t.y,0,height),mouseMoved(e)},canvas.onmouseup=e=>{mouseReleased(e),mouseClicked(e),mouseButton=e.button,mouseIsPressed=!1,e.preventDefault()},canvas.oncontextmenu=e=>e.preventDefault(),canvas.onmouseover=e=>mouseOver(e),canvas.onmouseout=e=>mouseOut(e),canvas.onwheel=e=>{mouseScrolled(e)},keyPressed=()=>{},keyReleased=()=>{},keyTyped=()=>{},document.onkeydown=e=>{e.target instanceof HTMLBodyElement&&([UP,DOWN,LEFT,RIGHT,SPACE].includes(e.keyCode)&&e.preventDefault(),key=e.key,keyCode=e.keyCode,keyIsPressed=!0,keyPressed(e))},document.onkeyup=e=>{e.target instanceof HTMLBodyElement&&([UP,DOWN,LEFT,RIGHT,SPACE].includes(e.keyCode)&&e.preventDefault(),key=e.key,keyCode=e.keyCode,keyReleased(e))},document.onkeypress=e=>{e.target instanceof HTMLBodyElement&&([UP,DOWN,LEFT,RIGHT,SPACE].includes(e.keyCode)&&e.preventDefault(),key=e.key,keyCode=e.keyCode,keyTyped(e))},skiJSData={rect:CORNER,ellipse:CENTER,arc:CENTER,image:CORNER,leading:0,height:12,flags:[],fontString(e,t){let n="";return this.flags.includes("bold")&&(n+="bold "),this.flags.includes("italics")&&(n+="italics "),n+`${t}px ${e}`},pos(e,t,n,a,o){return"rect"===e||"image"===e?this[e]<1?[t,n]:[t-a/2,n-o/2]:this[e]<1?[t+a/2,n+a/2]:[t,n]},matrixToArray:e=>["a","b","c","d","e","f"].map(t=>e[t]),matrices:[],path:[],rate:60,millis:0,start:0,draw:0,angle:DEGREES,color:RGBA},fps=60,frameCount=0,delta=1e3/60,then=performance.now(),skiJSData.start=performance.now(),Object.defineProperty(window,"draw",{get:()=>draw_standin,set(e){"function"!=typeof draw_standin&&requestAnimationFrame(raf),draw_standin=e},configurable:!0}),size(window.innerWidth,window.innerHeight);for(let i=requestAnimationFrame(()=>0);i--;)cancelAnimationFrame(i);
